(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(module,exports,__webpack_require__){module.exports={tweets:"Component_tweets__2hsaK",tweet:"Component_tweet__1IncN",button:"Component_button__2FGC- text-white py-1 px-3 rounded"}},320:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return client}));var apollo_client__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(72),apollo_cache_inmemory__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(329),apollo_link_schema__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(327),graphql_tools__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(82);function client(schemaString){var mocks=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},mockTypes=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type Query",extendTypes=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,currentSchema=Object(graphql_tools__WEBPACK_IMPORTED_MODULE_3__.makeExecutableSchema)({typeDefs:schemaString,resolverValidationOptions:{requireResolversForResolveType:!1}}),createClient=function createClient(schema){return new apollo_client__WEBPACK_IMPORTED_MODULE_0__.a({cache:new apollo_cache_inmemory__WEBPACK_IMPORTED_MODULE_1__.a,link:new apollo_link_schema__WEBPACK_IMPORTED_MODULE_2__.a({schema:schema})})};if(extendTypes){var _mockSchema=Object(graphql_tools__WEBPACK_IMPORTED_MODULE_3__.makeExecutableSchema)({typeDefs:mockTypes}),_schema=Object(graphql_tools__WEBPACK_IMPORTED_MODULE_3__.mergeSchemas)({schemas:[currentSchema,_mockSchema,extendTypes]});return Object(graphql_tools__WEBPACK_IMPORTED_MODULE_3__.addMockFunctionsToSchema)({schema:_schema,mocks:mocks}),createClient(_schema)}var mockSchema=Object(graphql_tools__WEBPACK_IMPORTED_MODULE_3__.makeExecutableSchema)({typeDefs:mockTypes}),schema=Object(graphql_tools__WEBPACK_IMPORTED_MODULE_3__.mergeSchemas)({schemas:[currentSchema,mockSchema]});return Object(graphql_tools__WEBPACK_IMPORTED_MODULE_3__.addMockFunctionsToSchema)({schema:schema,mocks:mocks}),createClient(schema)}},330:function(module,__webpack_exports__,__webpack_require__){"use strict";var slicedToArray=__webpack_require__(161),react=__webpack_require__(9),react_default=__webpack_require__.n(react),react_hooks_esm=__webpack_require__(1702),Component_module=__webpack_require__(126),Component_module_default=__webpack_require__.n(Component_module),classname=__webpack_require__(127),classname_default=__webpack_require__.n(classname),GET_ALL_TWEETS={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"tweets"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"Tweets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"Author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatar_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"first_name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:139,source:{body:"\n  query tweets {\n    Tweets {\n      id\n      body\n      Author {\n        username\n        avatar_url\n        first_name\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},CREATE_TWEET={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateTweet"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"body"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createTweet"},arguments:[{kind:"Argument",name:{kind:"Name",value:"body"},value:{kind:"Variable",name:{kind:"Name",value:"body"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"Author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatar_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"first_name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:180,source:{body:"\n  mutation CreateTweet($body: String) {\n    createTweet(body: $body) {\n      id\n      body\n      Author {\n        username\n        avatar_url\n        first_name\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},DELETE_TWEET={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteTweet"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteTweet"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:82,source:{body:"\n  mutation DeleteTweet($id: ID!) {\n    deleteTweet(id: $id) {\n      id\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Component_Component=function Component(props){var _React$useState=react_default.a.useState(),_React$useState2=Object(slicedToArray.a)(_React$useState,2),tweetValue=_React$useState2[0],setTweetValue=_React$useState2[1],_useQuery=Object(react_hooks_esm.b)(GET_ALL_TWEETS),data=_useQuery.data,loading=_useQuery.loading,_useMutation=Object(react_hooks_esm.a)(CREATE_TWEET,{update:function update(store,result){var data=store.readQuery({query:GET_ALL_TWEETS});data.Tweets.push(result.data.createTweet),store.writeQuery({query:GET_ALL_TWEETS,data:data})},onCompleted:function onCompleted(){setTweetValue("")}}),createTweet=Object(slicedToArray.a)(_useMutation,1)[0],_useMutation3=Object(react_hooks_esm.a)(DELETE_TWEET,{update:function update(store,result){var data=store.readQuery({query:GET_ALL_TWEETS});data.Tweets=data.Tweets.filter((function(tweet){return tweet.id!==result.data.deleteTweet.id})),store.writeQuery({query:GET_ALL_TWEETS,data:data})}}),deleteTweet=Object(slicedToArray.a)(_useMutation3,1)[0];return loading?"loading...":react_default.a.createElement("div",{className:classname_default()(Component_module_default.a.tweets,"p-8")},react_default.a.createElement("h1",{className:"text-6xl text-toast font-bold"},"Mocking Tweets"),react_default.a.createElement("div",{"data-testid":"tweet-container"},data.Tweets.map((function(tweet,index){return react_default.a.createElement("div",{key:tweet.id,className:classname_default()(Component_module_default.a.tweets,"flex justify-between items-start","bg-grey-1 hover:bg-grey-3","rounded my-2 p-4")},react_default.a.createElement("img",{className:"object-cover rounded",src:tweet.Author.avatar_url,alt:"none",height:"42",width:"42"}),react_default.a.createElement("div",{className:"flex-auto ml-4"},react_default.a.createElement("p",{className:"font-bold mb-4"},tweet.body),react_default.a.createElement("p",{className:"italic"},tweet.Author.username),react_default.a.createElement("p",{className:"text-sm"},tweet.Author.first_name)),react_default.a.createElement("button",{"data-testid":"delete-tweet-btn-".concat(index),className:classname_default()(Component_module_default.a.button,"bg-toast hover:bg-toast-burnt ml-2"),onClick:function onClick(){return deleteTweet({variables:{id:tweet.id}})}},"x"))}))),react_default.a.createElement("div",null,react_default.a.createElement("textarea",{"data-testid":"tweet-input",className:"border rounded border-grey-2 w-full p-2",placeholder:"Heavy on the sarcasm...",value:tweetValue,onChange:function onChange(e){return setTweetValue(e.target.value)}}),react_default.a.createElement("button",{"data-testid":"add-tweet-btn",className:classname_default()(Component_module_default.a.button,"bg-primary hover:bg-primary-dark"),onClick:function onClick(){return createTweet({variables:{body:tweetValue}})}},"Add New Tweet")))};__webpack_exports__.a=Component_Component;Component_Component.__docgenInfo={description:"",methods:[],displayName:"Component"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/twitter-app/Component.jsx"]={name:"Component",docgenInfo:Component_Component.__docgenInfo,path:"src/twitter-app/Component.jsx"})},331:function(module,__webpack_exports__,__webpack_require__){"use strict";var faker=__webpack_require__(160),toConsumableArray=__webpack_require__(213);var uniqid=__webpack_require__(328),uniqid_default=__webpack_require__.n(uniqid);__webpack_exports__.a=function(initialValues){var store=function store_store(){var initialValues=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],store=new Map;return initialValues.forEach((function(item){store.set(item.id,item)})),{set:function set(key,value){return store.set(key,value)},get:function get(key){return store.get(key)},delete:function _delete(key){return store.delete(key)},values:function values(){return Object(toConsumableArray.a)(store.values())},entries:function entries(){return Object(toConsumableArray.a)(store.entries())}}}(initialValues);return{Mutation:function Mutation(){return{createTweet:function createTweet(parent,args){var newTweet={id:uniqid_default()(),body:args.body};return store.set(newTweet.id,newTweet),newTweet},deleteTweet:function deleteTweet(parent,args){var deleted=store.get(args.id);return store.delete(args.id),deleted}}},Query:function Query(){return{Tweets:function Tweets(){return store.values()}}},Tweet:function Tweet(){return{body:function body(){return faker.hacker.phrase()}}},User:function User(){return{username:function username(){return faker.internet.userName()},avatar_url:function avatar_url(){return faker.internet.avatar()}}}}}},333:function(module,exports,__webpack_require__){__webpack_require__(334),__webpack_require__(445),module.exports=__webpack_require__(446)},356:function(module,exports){},446:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(156),req=(__webpack_require__(609),__webpack_require__(610));Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)((function loadStories(){req.keys().forEach((function(filename){return req(filename)}))}),module)}.call(this,__webpack_require__(176)(module))},609:function(module,exports,__webpack_require__){},610:function(module,exports,__webpack_require__){var map={"./twitter-app/index.stories.js":611};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=610},611:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(156),react_apollo__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(36),_client__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(320),_Component__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(330),_mockResolvers__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(331),stories=Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Connected component",module),initialValues=[{id:"1"},{id:"2"},{id:"3",body:"I am not faked!"}];stories.add("A simple example",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_apollo__WEBPACK_IMPORTED_MODULE_2__.a,{client:Object(_client__WEBPACK_IMPORTED_MODULE_3__.a)("type Tweet {\n    id: ID!\n    body: String\n    date: Date\n    Author: User\n    Stats: Stat\n}\n\ntype User {\n    id: ID!\n    username: String\n    first_name: String\n    last_name: String\n    full_name: String\n    name: String\n    avatar_url: Url\n}\n\ntype Stat {\n    views: Int\n    likes: Int\n    retweets: Int\n    responses: Int\n}\n\ntype Notification {\n    id: ID\n    date: Date\n    type: String\n}\n\ntype Meta {\n    count: Int\n}\n\nscalar Url\nscalar Date\n\ntype Query {\n    Tweet(id: ID!): Tweet\n    Tweets(limit: Int, skip: Int, sort_field: String, sort_order: String): [Tweet]\n    TweetsMeta: Meta\n    User(id: ID!): User\n    Notifications(limit: Int): [Notification]\n    NotificationsMeta: Meta\n}\n\ntype Mutation {\n    createTweet (\n        body: String\n    ): Tweet\n    deleteTweet(id: ID!): Tweet\n    markTweetRead(id: ID!): Boolean\n}\n",Object(_mockResolvers__WEBPACK_IMPORTED_MODULE_5__.a)(initialValues))},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_Component__WEBPACK_IMPORTED_MODULE_4__.a,null))}))}.call(this,__webpack_require__(176)(module))}},[[333,1,2]]]);
//# sourceMappingURL=main.939a9c1115f72c63ee8c.bundle.js.map